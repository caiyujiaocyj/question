flow_segments = []
    for cylinder in cylinders:
        start = cylinder['start']
        end = cylinder['end']
        radius = cylinder['radius']
        # unified_id = cylinder['unified_id']
        
        if np.linalg.norm(np.subtract(end, start)) == 0:
            continue

        # unified_id = cylinder.get('unified_id', ["default_id"])  # 默认值可以是列表或字符串
                
        #         # 处理 unified_id 为列表的情况
        # if isinstance(unified_id, list):
        #     unified_id = "_".join(map(str, unified_id))  # 将列表转为字符串，如 "id1_id2_id3"

        # original_name = cylinder.get('name', "FlowSegment")
        # new_name = f"{original_name}_{unified_id}" 

        if 'unified_id' not in cylinder:
            print(f"Warning: Missing unified_id in {cylinder}")
            continue
        # 获取并处理 unified_id
        unified_id = cylinder['unified_id']

        unified_id = set(unified_id)

        if isinstance(unified_id, list):
            unified_id = "_".join(map(str, unified_id))  # 列表转字符串
        
        # 生成名称
        original_name = cylinder.get('name', "FlowSegment")
        new_name = f"{original_name}_{unified_id}"
        print(f"Generated name: {new_name}")  # 调试输出

        # 创建IFC的流动段（IfcFlowSegment）
        flow_segment = ifc_file.create_entity(
            'IfcFlowSegment',
            GlobalId=ifcopenshell.guid.new(),
            OwnerHistory=owner_history,
            Name=new_name,
            ObjectPlacement=ifc_file.createIfcLocalPlacement(storey_placement, axis_placement)
        )
